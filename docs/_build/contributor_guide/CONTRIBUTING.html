
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Contributing &#8212; Research and Development 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pre-commit hooks" href="pre_commit_hooks.html" />
    <link rel="prev" title="Code of conduct for research-and-development" href="CODE_OF_CONDUCT.html" />

  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />


  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">


          <div class="body" role="main">

  <section class="tex2jax_ignore mathjax_ignore" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading">¶</a></h1>
<p>We are not looking for active developers on this project outside of ONS. However we love contributions in the form of feedback and constructive criticism of our code! We’ve compiled this documentation to help you understand our
contributing guidelines. <a class="reference external" href="mailto:james&#46;westwood&#37;&#52;&#48;ons&#46;gov&#46;uk">If you still have questions, please contact us</a> and
we’d be happy to help!</p>
<section id="code-of-conduct">
<h2>Code of Conduct<a class="headerlink" href="#code-of-conduct" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="CODE_OF_CONDUCT.html"><span class="doc std std-doc">Please read <code class="docutils literal notranslate"><span class="pre">CODE_OF_CONDUCT.md</span></code> before contributing</span></a>.</p>
</section>
<section id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h2>
<p>To start contributing, open your terminal, and install the required Python packages,
and <a class="reference external" href="https://pre-commit.com">pre-commit hooks</a> using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
pre-commit install
</pre></div>
</div>
<p>or the <code class="docutils literal notranslate"><span class="pre">make</span></code> command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make requirements
</pre></div>
</div>
<p>The pre-commit hooks are a security feature to ensure, for example, no secrets<a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>,
large data files, and Jupyter notebook outputs are accidentally committed into the
repository. <a class="reference internal" href="pre_commit_hooks.html"><span class="doc std std-doc">For more information on pre-commit hooks see our
documentation</span></a>.</p>
</section>
<section id="for-developers">
<h2>For developers<a class="headerlink" href="#for-developers" title="Permalink to this heading">¶</a></h2>
<p>The Research and Development project is being developed in the open in line with recommendations in the <a class="reference external" href="https://www.gov.uk/service-manual/service-standard/point-12-make-new-source-code-open">Government Service Manual</a> that state that new code should be open. Hosting the code on GitHub is an easy way to adhere to this.</p>
</section>
<section id="developer-set-up">
<h2>Developer set up<a class="headerlink" href="#developer-set-up" title="Permalink to this heading">¶</a></h2>
<p>To get developers set up, we have created this guide to make setting up your working environment easier.</p>
<section id="using-vs-code">
<h3>Using VS Code<a class="headerlink" href="#using-vs-code" title="Permalink to this heading">¶</a></h3>
<p>We strongly suggest that developers on the team use VS Code for programming as it is an industry-standard tool and we are more likely to be able to support it if you run into problems, compared to an IDE we are not familiar with.</p>
<section id="downloading-vs-code">
<h4>Downloading VS Code<a class="headerlink" href="#downloading-vs-code" title="Permalink to this heading">¶</a></h4>
<p>You can download VS code from the <a class="reference external" href="https://code.visualstudio.com/download">VS code download page</a>. Select the correct installer for your OS and follow the instructions.</p>
</section>
</section>
</section>
<section id="conda">
<h2>Conda<a class="headerlink" href="#conda" title="Permalink to this heading">¶</a></h2>
<p>On the project team, virtual environments (VE) will be used. Conda is our chosen VE manager. You will need to make a service desk request to get the Anaconda suite installed.</p>
</section>
<section id="recreating-the-environment-and-installing-requirements">
<h2>Recreating the environment and installing requirements<a class="headerlink" href="#recreating-the-environment-and-installing-requirements" title="Permalink to this heading">¶</a></h2>
<p>Once you have cloned this repository, you will have acces to a file called <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code>. You will use conda to recreate the environment with all the dependencies you need for this project using this command:</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">env</span> <span class="pre">create</span> <span class="pre">-f</span> <span class="pre">environment.yml</span> <span class="pre">-v</span></code></p>
<p>This should create and environment for you with Python 3.10+ installed and every other dependency of the project so far.</p>
</section>
<section id="secrets">
<h2>Secrets<a class="headerlink" href="#secrets" title="Permalink to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">.secrets</span></code> file with the <a class="reference internal" href="#required-secrets-and-credentials"><span class="std std-doc">required secrets and
credentials</span></a></p>
<ul class="simple">
<li><p>[load environment variables][docs-loading-environment-variables] from <code class="docutils literal notranslate"><span class="pre">.env</span></code></p></li>
</ul>
</section>
<section id="required-secrets-and-credentials">
<h2>Required secrets and credentials<a class="headerlink" href="#required-secrets-and-credentials" title="Permalink to this heading">¶</a></h2>
<p>To run this project, [you need a <code class="docutils literal notranslate"><span class="pre">.secrets</span></code> file with secrets/credentials as
environmental variables][docs-loading-environment-variables-secrets]. The
secrets/credentials should have the following environment variable name(s):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Secret/credential</p></th>
<th class="head"><p>Environment variable name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Secret 1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SECRET_VARIABLE_1</span></code></p></td>
<td><p>Plain English description of Secret 1.</p></td>
</tr>
<tr class="row-odd"><td><p>Credential 1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CREDENTIAL_VARIABLE_1</span></code></p></td>
<td><p>Plain English description of Credential 1.</p></td>
</tr>
</tbody>
</table>
<p>Once you’ve added, [load these environment variables using
<code class="docutils literal notranslate"><span class="pre">.env</span></code>][docs-loading-environment-variables].</p>
<section id="update-the-environment-yaml">
<h3>Update the environment yaml<a class="headerlink" href="#update-the-environment-yaml" title="Permalink to this heading">¶</a></h3>
<p>If you have installed a new package as part of your development work, then the environment yaml needs to be updated, so the environment can be shared with the wider team.</p>
<p>To do so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">export</span> <span class="o">&gt;</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>You will need to add/commit/push the changes to the environment yaml so they get pushed up to the repository and others can run your code.</p>
<p>If the installation of additional libraries are needed to run your code, you must make a note of this in the notes or comments of the Pull Request so the reviewer can update their environment.</p>
</section>
</section>
<section id="git-and-github-setup">
<h2>Git and Github Setup<a class="headerlink" href="#git-and-github-setup" title="Permalink to this heading">¶</a></h2>
<p>You will need to follow instructions to set up your git configuration to work with Github.</p>
<section id="github-and-security-considerations">
<h3>GitHub and security considerations<a class="headerlink" href="#github-and-security-considerations" title="Permalink to this heading">¶</a></h3>
<p>This project’s GitHub repository is <em>public</em>, which means that anyone can view them. As such it is very important that certain information is not made publicly available. This includes passwords (even if hashed), data, and any code that contains sensitive information or methods, e.g. disclosure parameters.</p>
<p>The <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html">QA of Code for Analysis and Research</a> contains a <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/version_control.html#what-should-i-version-control">comprehensive list</a> of what not to include in a public repository and methods to <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/version_control.html#avoid-commiting-sensitive-information-to-git-repositories">avoid committing sensitive information to Git repositories</a>, e.g. <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/version_control.html#gitignore-files"><code class="docutils literal notranslate"><span class="pre">.gitignore</span></code></a>.</p>
<p>Ensure that if you are using a <code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code> file to store your token that the CDSW project is within your own context rather than shared and is set to <em>private</em>. The <code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code> file should <strong>not</strong> be pushed to GitHub as that will compromise the security of your account. If you use one GitHub repository per CDSW project and clone directly through the CDSW UI when creating the project then ensure <code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code> is added to <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>; this should not be an issue if your project structure is <code class="docutils literal notranslate"><span class="pre">~/repo</span></code>, which is the default when using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> and working with several repositories per CDSW project.</p>
</section>
</section>
<section id="code-conventions">
<h2>Code conventions<a class="headerlink" href="#code-conventions" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://gds-way.cloudapps.digital/">We mainly follow the GDS Way in our code conventions</a>.</p>
<section id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this heading">¶</a></h3>
<p>For Python code, <a class="reference external" href="https://gds-way.cloudapps.digital/manuals/programming-languages/python/python.html#python-style-guide">we follow the GDS Way Python style guide</a> with a line
length of 88; the flake8 pre-commit hook should help with this!</p>
</section>
<section id="markdown">
<h3>Markdown<a class="headerlink" href="#markdown" title="Permalink to this heading">¶</a></h3>
<p>Local links can be written as normal, but external links should be referenced at the
bottom of the Markdown file for clarity. For example:</p>
<p>Use a <a class="reference internal" href="README.html"><span class="doc std std-doc">local link to reference the <code class="docutils literal notranslate"><span class="pre">README.md</span></code></span></a> file, but <a class="reference external" href="https://www.gov.uk/">an external
link for GOV.UK</a>.</p>
<p>We also try to wrap Markdown to a line length of 88 characters, but this is not
strictly enforced in all cases, for example with long hyperlinks.</p>
</section>
<section id="git-and-github">
<h3>Git and GitHub<a class="headerlink" href="#git-and-github" title="Permalink to this heading">¶</a></h3>
<p>We use Git to version control the source code. <a class="reference external" href="https://gds-way.cloudapps.digital/standards/source-code.html">Please read the GDS Way for details on
Git best practice</a>. This includes how to write good commit messages, use
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code> for local branches and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">--no-ff</span></code> for merges, as well as using
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--force-with-lease</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-f</span></code>.</p>
<p><a class="reference internal" href="updating_gitignore.html"><span class="doc std std-doc">If you want to modify the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> files, see the template
documentation</span></a> for further details.</p>
<p>Our source code is stored on GitHub. Pull requests into <code class="docutils literal notranslate"><span class="pre">main</span></code> require at least one
approved review.</p>
</section>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.pytest.org/">Tests are written using the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> framework</a>, with its configuration in the
<code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file. Note, only tests in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder are run. To run the
tests, enter the following command in your terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest
</pre></div>
</div>
<section id="code-coverage">
<h3>Code coverage<a class="headerlink" href="#code-coverage" title="Permalink to this heading">¶</a></h3>
<p><a class="reference external" href="https://coverage.readthedocs.io/">Code coverage of Python scripts is measured using the <code class="docutils literal notranslate"><span class="pre">coverage</span></code> Python
package</a>; its configuration can be found in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>. Note coverage
only extends to Python scripts in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder.</p>
<p>To run code coverage, and view it as an HTML report, enter the following command in
your terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage run -m pytest
coverage html
</pre></div>
</div>
<p>or use the <code class="docutils literal notranslate"><span class="pre">make</span></code> command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make coverage_html
</pre></div>
</div>
<p>The HTML report can be accessed at <code class="docutils literal notranslate"><span class="pre">htmlcov/index.html</span></code>.</p>
</section>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://myst-parser.readthedocs.io/">We write our documentation in MyST Markdown for use in Sphinx</a>. This is mainly
stored in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder, unless it’s more appropriate to store it elsewhere, like
this file.</p>
<p><a class="reference internal" href="writing_accessible_documentation.html"><span class="doc std std-doc">Please read our guidance on how to write accessible
documentation</span></a>, as well as our <a class="reference internal" href="writing_sphinx_documentation.html"><span class="doc std std-doc">guidance on
writing Sphinx documentation</span></a>. This allows you to
build the documentation into an accessible, searchable website.</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference internal" href="pre_commit_hooks.html#definition-of-a-secret-according-to-detect-secrets"><span class="std std-doc">Only secrets of specific patterns are detected by the pre-commit
hooks</span></a>.</p>
</aside>
</aside>
</section>
</section>


          </div>

        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Research and Development</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Research and Development Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/README.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="README.html">Contributing guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="CODE_OF_CONDUCT.html">Code of conduct for <code class="docutils literal notranslate"><span class="pre">research-and-development</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="pre_commit_hooks.html">Pre-commit hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="updating_gitignore.html">Updating the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file</a></li>
<li class="toctree-l2"><a class="reference internal" href="loading_environment_variables.html">Loading environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_accessible_documentation.html">Writing accessible documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_sphinx_documentation.html">Writing Sphinx documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aqa/README.html">Analytical quality assurance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/README.html">Project structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/README.html"><code class="docutils literal notranslate"><span class="pre">src</span></code> API reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="README.html">Contributing guide</a><ul>
      <li>Previous: <a href="CODE_OF_CONDUCT.html" title="previous chapter">Code of conduct for <code class="docutils literal notranslate"><span class="pre">research-and-development</span></code></a></li>
      <li>Next: <a href="pre_commit_hooks.html" title="next chapter">Pre-commit hooks</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.

      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

      |
      <a href="../_sources/contributor_guide/CONTRIBUTING.md.txt"
          rel="nofollow">Page source</a>
    </div>




  </body>
</html>
